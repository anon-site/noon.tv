# دليل أنواع روابط IPTV المدعومة

## 1. روابط HLS (.m3u8)
الصيغة الأكثر شيوعاً للبث المباشر

```
https://example.com/live/channel.m3u8
https://server.com/hls/stream/playlist.m3u8
```

**الاستخدام:** يعمل مباشرة، ينكشف تلقائياً

---

## 2. روابط IPTV المباشرة (Direct Streaming)
روابط خوادم IPTV التي تستخدم صيغة مباشرة

```
http://server:port/play/channelID
http://213.57.91.138:8000/play/a05u
@http://server:port/stream/channel
```

**الاستخدام:**
- إذا بدأ الرابط بـ `@`، المشغل سيزيله تلقائياً
- قد تحتاج لتفعيل "فرض المشغل الأصلي"
- قد تحتاج لتفعيل "تعطيل CORS"

**نصيحة:** جرب هذا الترتيب:
1. الصق الرابط كما هو (مع أو بدون @)
2. إذا لم يعمل، فعّل "فرض المشغل الأصلي"
3. إذا لم يعمل، فعّل أيضاً "تعطيل CORS"

---

## 3. روابط DASH (.mpd)
صيغة بث متقدمة

```
https://example.com/video.mpd
https://server.com/dash/stream.mpd
```

**الاستخدام:** يعمل مباشرة، ينكشف تلقائياً

---

## 4. ملفات فيديو مباشرة
روابط ملفات الفيديو العادية

```
https://example.com/video.mp4
https://server.com/movie.webm
https://cdn.com/stream.ts
```

**الصيغ المدعومة:**
- MP4, WEBM, OGG
- MKV, AVI, FLV
- TS (Transport Stream)
- M4V, MOV, WMV

---

## 5. روابط Xtream Codes
نظام شائع لإدارة IPTV

```
http://server:port/live/username/password/channelID.ts
http://server:port/username/password/channelID
```

**الاستخدام:** 
- استخدم "فرض المشغل الأصلي"
- قد تحتاج "تعطيل CORS"

---

## نصائح مهمة

### ✅ للروابط التي تبدأ بـ @
```
@http://213.57.91.138:8000/play/a05u
```
المشغل سينظف الرابط تلقائياً ليصبح:
```
http://213.57.91.138:8000/play/a05u
```

### ✅ لروابط بدون http://
```
213.57.91.138:8000/play/a05u
```
المشغل سيضيف `http://` تلقائياً

### ✅ معالجة مشاكل CORS
بعض الخوادم لا تدعم CORS، في هذه الحالة:
1. فعّل "تعطيل CORS"
2. أو استخدم برنامج وسيط (proxy)

### ✅ معالجة مشاكل التشغيل
إذا لم يعمل الرابط:
1. تأكد من صحة الرابط
2. جرب في متصفح آخر
3. فعّل "فرض المشغل الأصلي"
4. فعّل "تعطيل CORS"
5. افتح Console (F12) وتحقق من الأخطاء

---

## أمثلة عملية

### مثال 1: رابط عادي مع @
```
الرابط الأصلي: @http://server.com:8000/play/ch001
بعد التنظيف: http://server.com:8000/play/ch001
```

### مثال 2: رابط بدون بروتوكول
```
الرابط الأصلي: server.com:8000/play/ch001
بعد التنظيف: http://server.com:8000/play/ch001
```

### مثال 3: رابط HLS عادي
```
https://example.com/live/channel.m3u8
✅ يعمل مباشرة
```

---

## استكشاف الأخطاء

### ❌ خطأ: "فشل تحميل البث"
**الحل:**
1. تأكد من صحة الرابط
2. جرب الرابط في برنامج VLC أولاً
3. تحقق من اتصال الإنترنت
4. قد يكون الخادم معطل

### ❌ خطأ: CORS Policy
**الحل:**
1. فعّل "تعطيل CORS"
2. أو استخدم إضافة متصفح لتعطيل CORS
3. أو استخدم proxy server

### ❌ الفيديو لا يظهر (شاشة سوداء)
**الحل:**
1. فعّل "فرض المشغل الأصلي"
2. حدث الصفحة (F5)
3. جرب في وضع التصفح الخاص
4. امسح الكاش

---

## معلومات تقنية

### أنواع المحتوى المدعومة
```
video/mp4          - ملفات MP4
video/webm         - ملفات WebM
video/mp2t         - TS Streams
application/x-mpegURL - HLS (M3U8)
application/dash+xml  - DASH (MPD)
video/x-matroska   - MKV
video/x-msvideo    - AVI
video/x-flv        - FLV
```

### البروتوكولات المدعومة
- HTTP
- HTTPS
- WebSocket (للبث المباشر)

### المشغلات المستخدمة
1. **HLS.js** - لروابط M3U8/HLS
2. **Dash.js** - لروابط MPD/DASH
3. **HTML5 Video** - للروابط المباشرة

---

## نصائح للحصول على أفضل أداء

1. **استخدم Google Chrome** للحصول على أفضل توافق
2. **اتصال سلكي** أفضل من Wi-Fi
3. **سرعة إنترنت جيدة** (5 Mbps على الأقل)
4. **أغلق التطبيقات** الأخرى التي تستهلك النطاق
5. **حدث المتصفح** لأحدث إصدار

---

صُنع بـ ❤️ لعشاق IPTV

